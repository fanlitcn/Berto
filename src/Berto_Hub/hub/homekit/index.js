var _0x1507=['storage','Berto\x20Hub','uuid','generate','getService','AccessoryInformation','setCharacteristic','Characteristic','Manufacturer','Berto','identify','[homekit]\x20Identify\x20Bridge\x20','031-45-154','BRIDGE','config','removeAllBridgedAccessories','name','Control4','proxy','./accessories/','type','.js','[homekit]\x20Adding\x20Device\x20','\x20Accessory','[homekit]\x20Update\x20Device\x20','\x20State','event','updateCharacteristic','state','Device\x20','\x20Does\x20Not\x20Exist\x20As\x20An\x20Accessory','hap-nodejs','mqtt','publish','/homekit/client/','stringify','\x20To\x20','[homekit]\x20Initialising\x20Homekit\x20Server','servers','homekit'];(function(_0x51798c,_0x283582){var _0x3d4c81=function(_0x257932){while(--_0x257932){_0x51798c['push'](_0x51798c['shift']());}};var _0x2d9eb1=function(){var _0x44829b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x231420,_0x4ba661,_0x2d6cfb,_0xb6a9e7){_0xb6a9e7=_0xb6a9e7||{};var _0x5e7013=_0x4ba661+'='+_0x2d6cfb;var _0x3d64b7=0x0;for(var _0x3d64b7=0x0,_0x2b8786=_0x231420['length'];_0x3d64b7<_0x2b8786;_0x3d64b7++){var _0x43a08e=_0x231420[_0x3d64b7];_0x5e7013+=';\x20'+_0x43a08e;var _0x28a7d8=_0x231420[_0x43a08e];_0x231420['push'](_0x28a7d8);_0x2b8786=_0x231420['length'];if(_0x28a7d8!==!![]){_0x5e7013+='='+_0x28a7d8;}}_0xb6a9e7['cookie']=_0x5e7013;},'removeCookie':function(){return'dev';},'getCookie':function(_0x56dc22,_0x47b39d){_0x56dc22=_0x56dc22||function(_0x52e0ad){return _0x52e0ad;};var _0x1056ac=_0x56dc22(new RegExp('(?:^|;\x20)'+_0x47b39d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x132572=function(_0x4b9a03,_0x542305){_0x4b9a03(++_0x542305);};_0x132572(_0x3d4c81,_0x283582);return _0x1056ac?decodeURIComponent(_0x1056ac[0x1]):undefined;}};var _0x24bf25=function(){var _0x5899e9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5899e9['test'](_0x44829b['removeCookie']['toString']());};_0x44829b['updateCookie']=_0x24bf25;var _0x5af5bf='';var _0x1fb877=_0x44829b['updateCookie']();if(!_0x1fb877){_0x44829b['setCookie'](['*'],'counter',0x1);}else if(_0x1fb877){_0x5af5bf=_0x44829b['getCookie'](null,'counter');}else{_0x44829b['removeCookie']();}};_0x2d9eb1();}(_0x1507,0x1af));var _0x2872=function(_0x5f13de,_0x186e66){_0x5f13de=_0x5f13de-0x0;var _0x1460f1=_0x1507[_0x5f13de];return _0x1460f1;};var _0x9c2698=function(){var _0x532208=!![];return function(_0x1eed56,_0x4e7b13){var _0x1189a7=_0x532208?function(){if(_0x4e7b13){var _0x3c9702=_0x4e7b13['apply'](_0x1eed56,arguments);_0x4e7b13=null;return _0x3c9702;}}:function(){};_0x532208=![];return _0x1189a7;};}();var _0x2773ce=_0x9c2698(this,function(){var _0x3320ca=function(){return'\x64\x65\x76';},_0x4a7e8a=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x53dc7f=function(){var _0x14441c=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x14441c['\x74\x65\x73\x74'](_0x3320ca['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x13ed97=function(){var _0x25e6f2=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x25e6f2['\x74\x65\x73\x74'](_0x4a7e8a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x43c0dc=function(_0x52729a){var _0x1927ae=~-0x1>>0x1+0xff%0x0;if(_0x52729a['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1927ae)){_0x280d9f(_0x52729a);}};var _0x280d9f=function(_0x412d15){var _0x804845=~-0x4>>0x1+0xff%0x0;if(_0x412d15['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x804845){_0x43c0dc(_0x412d15);}};if(!_0x53dc7f()){if(!_0x13ed97()){_0x43c0dc('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x43c0dc('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x43c0dc('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2773ce();var HAP=require(_0x2872('0x0'));var ACCESSORIES;function publish_MQTT(_0x1ae7ba,_0x35eeeb,_0x570a5a){var _0x35eeeb=ENV[_0x2872('0x1')][_0x2872('0x2')]+_0x2872('0x3')+_0x35eeeb;var _0x50152f=JSON[_0x2872('0x4')](_0x570a5a);print('[homekit]\x20Sending\x20'+_0x50152f+_0x2872('0x5')+_0x35eeeb);_0x1ae7ba[_0x2872('0x2')](_0x35eeeb,_0x50152f);}function init(_0x5ba867){print(_0x2872('0x6'));HAP['init'](ENV[_0x2872('0x7')][_0x2872('0x8')][_0x2872('0x9')]);var _0x4cd257=new HAP['Bridge'](_0x2872('0xa'),HAP[_0x2872('0xb')][_0x2872('0xc')](ENV[_0x2872('0xb')]));_0x4cd257[_0x2872('0xd')](HAP['Service'][_0x2872('0xe')])[_0x2872('0xf')](HAP[_0x2872('0x10')][_0x2872('0x11')],_0x2872('0x12'))['setCharacteristic'](HAP[_0x2872('0x10')]['Model'],'1.0')['setCharacteristic'](HAP[_0x2872('0x10')]['SerialNumber'],ENV['uuid']);_0x4cd257['on'](_0x2872('0x13'),function(_0x2ece43,_0x21391e){print(_0x2872('0x14')+ENV[_0x2872('0xb')]);_0x21391e();});_0x4cd257[_0x2872('0x2')]({'username':ENV[_0x2872('0xb')],'port':0xca72,'pincode':_0x2872('0x15'),'category':HAP['Accessory']['Categories'][_0x2872('0x16')]});publish_MQTT(_0x5ba867,0x0,{'event':_0x2872('0x17')});return _0x4cd257;}function server_config(_0x717ab0,_0x225b69,_0x43c75f){print('[homekit]\x20Configuring\x20Bridge');_0x225b69[_0x2872('0x18')]();ACCESSORIES={};for(var _0x5c462 in _0x43c75f){var _0xfc8661=_0x43c75f[_0x5c462];var _0x1ac5d2=new HAP['Accessory'](_0xfc8661[_0x2872('0x19')],HAP[_0x2872('0xb')][_0x2872('0xc')](_0x5c462));_0x1ac5d2[_0x2872('0xd')](HAP['Service'][_0x2872('0xe')])[_0x2872('0xf')](HAP[_0x2872('0x10')][_0x2872('0x11')],_0x2872('0x1a'))['setCharacteristic'](HAP[_0x2872('0x10')]['Model'],_0xfc8661[_0x2872('0x1b')])[_0x2872('0xf')](HAP[_0x2872('0x10')]['SerialNumber'],_0x5c462);_0x1ac5d2['on']('identify',function(_0x2e7509,_0x34cf4a){publish_MQTT(_0x717ab0,_0x5c462,{'event':_0x2872('0x13')});_0x34cf4a();});var _0x1ac5d2=require(_0x2872('0x1c')+_0xfc8661[_0x2872('0x1d')]+_0x2872('0x1e'))(_0x1ac5d2,_0x717ab0,_0x5c462,_0xfc8661);print(_0x2872('0x1f')+_0x5c462+_0x2872('0x20'));_0x225b69['addBridgedAccessory'](_0x1ac5d2);ACCESSORIES[_0x5c462]=_0x1ac5d2[_0x2872('0xd')](_0x5c462);}}function server_update(_0x2cfb7b,_0x14782a,_0x210afa){var _0x2ba0da=_0x210afa['id'];var _0x105fdf=ACCESSORIES[_0x2ba0da];if(_0x105fdf){print(_0x2872('0x21')+_0x2ba0da+_0x2872('0x22'));if(_0x210afa[_0x2872('0x23')]){for(var _0x2c273e in _0x210afa['event']){var _0xcf4de9=_0x210afa[_0x2872('0x23')][_0x2c273e];print('[homekit]\x20'+JSON[_0x2872('0x4')](_0xcf4de9));_0x105fdf[_0x2872('0x24')](HAP[_0x2872('0x10')][_0xcf4de9['characteristic']],_0xcf4de9[_0x2872('0x25')]);}}}else{error(_0x2872('0x26')+_0x2ba0da+_0x2872('0x27'));}}module['exports']={'init':init,'commands':{'server_Config':server_config,'server_Update':server_update}};